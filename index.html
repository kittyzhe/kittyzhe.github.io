<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="期待和我一样爱阿狸的朋友，一样喜欢编程的小伙伴。">
<meta property="og:type" content="website">
<meta property="og:title" content="Sunshine">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Sunshine">
<meta property="og:description" content="期待和我一样爱阿狸的朋友，一样喜欢编程的小伙伴。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sunshine">
<meta name="twitter:description" content="期待和我一样爱阿狸的朋友，一样喜欢编程的小伙伴。">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> Sunshine </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Sunshine</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Do one thing at a time, and do well.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/11/hello-world/" itemprop="url">
                  Hello World
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-11T14:08:54+08:00" content="2016-10-11">
              2016-10-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/13/CocoaPods安装教程亲测/" itemprop="url">
                  亲测Mac上安装CocoaPods教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-13T14:10:01+08:00" content="2016-09-13">
              2016-09-13
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="CocoaPods安装依赖于以其他软件、环境等的安装">CocoaPods安装依赖于以其他软件、环境等的安装</h3><pre><code><span class="type">Cocoapods</span>安装顺序<span class="type">Xcode</span>-&gt;homebrew-&gt;<span class="type">RVM</span>-&gt;<span class="type">Ruby</span>-&gt;<span class="type">CocoaPots</span>;
</code></pre><h3 id="1、Homebrew的安装">1、Homebrew的安装</h3><p> 安装教程网站： <a href="http://blog.csdn.net/azhou_hui/article/details/49718511" target="_blank" rel="external">Homebrew安装教程</a><br>Homebrew的官方网站：<a href="http://brew.sh/" target="_blank" rel="external">Homebrew官网</a> </p>
<pre><code>做一下测试，在终端执行  <span class="keyword">brew </span>-v 命令
看是否正常执行，会列出已安装的hemebrew版本号
如果没有，那么安装以上的教程进行安装。
</code></pre><h3 id="2、RVM、Ruby的安装">2、RVM、Ruby的安装</h3><pre><code><span class="tag">Mac</span>自带的有<span class="tag">ruby</span>，但是版本比较低，现在安装<span class="tag">Cocoapods</span>要求在<span class="tag">ruby</span>版本2<span class="class">.2</span><span class="class">.2</span>以上，所以我们要更新<span class="tag">ruby</span>版本，更新<span class="tag">ruby</span>版本需要使用<span class="tag">rvm</span>更新.

<span class="rule"><span class="attribute">RVM</span>:<span class="value">Ruby Version Manager,Ruby版本管理器，包括Ruby的版本管理和Gem库管理(gemset)</span></span>
</code></pre><h6 id="安装rvm">安装rvm</h6><pre><code>在终端执行以下命令

 curl -L get.rvm.io | bash <span class="operator">-s</span> stable  
     等待一段时间后就可以成功安装好 RVM。

 执行以下命令
<span class="built_in">source</span> ~/.bashrc  
<span class="built_in">source</span> ~/.bash_profile
    使rvm配置文件生效

rvm -v  
    此命令是测试rvm是否正常安装，列出已安装的rvm版本号
</code></pre><h6 id="重要:">重要:</h6><pre><code>安装完rvm后修改rvm里面的一个文件,在终端执行以下命令。

echo <span class="string">"ruby_url=https://cache.ruby-china.org/pub/ruby"</span> <span class="prompt">&gt;&gt; </span>~<span class="regexp">/.rvm/user</span><span class="regexp">/db</span>
</code></pre><h6 id="更新ruby版本">更新ruby版本</h6><pre><code>rvm <span class="built_in">list</span> known 
    列出已知的ruby版本。然后按 q 退出

rvm install <span class="number">2.3</span>    
    在这里我们安装ruby <span class="number">2.3</span>版本。
    如果错误，那么使用超级管理员身份进行安装，即 sudo rvm install <span class="number">2.3</span>


执行成功后。我们查看已存在的ruby版本。
rvm <span class="built_in">list</span> 
    可以看到我们刚才更新的ruby <span class="number">2.3</span>版本

rvm --<span class="keyword">default</span> use <span class="number">2.3</span> 
    更换ruby版本为刚更新的<span class="number">2.3</span>
</code></pre><h3 id="3、安装Cocoapods">3、安装Cocoapods</h3><p>Cocoapods官网 ：<a href="https://cocoapods.org" target="_blank" rel="external">Cocoapods官网</a>    </p>
<pre><code>由于安装会受到墙阻碍的原因。我们可以用淘宝的Ruby镜像来访问cocoapods。按照下面的顺序在终端中敲入依次敲入命令：
gem sources --remove <span class="string">http:</span><span class="comment">//ruby.rubygems.org/</span>

gem sources -a <span class="string">https:</span><span class="comment">//ruby.taobao.org/</span>

查看源对不对
gem sources -l

再安装就好了
sudo gem install cocoapods
</code></pre><h3 id="4、Cocoapods的使用">4、Cocoapods的使用</h3><h6 id="注意：以下操作_除了pod_search_XXXXX（XXXX表示第三方库）这一步，其他步骤都需要在你的项目目录进行操作。"><strong>注意</strong>：以下操作 除了pod search XXXXX（XXXX表示第三方库）这一步，其他步骤都需要在你的项目目录进行操作。</h6><pre><code>在终端里面，<span class="keyword">cd</span>（进入）你的Xcode项目文件。

然后 pod init （初始化一个Podfile）

<span class="keyword">ls</span> 看一下，Podfile是否存在，正常来说是已经存在了。

见下图
</code></pre><p><img src="http://ww1.sinaimg.cn/mw690/cafae1a2jw1f7sz58i4szj20n804ygn7.jpg" alt="初始化和编辑podfile"></p>
<pre><code>pod <span class="built_in">search</span> XXXXX（XXXX表示第三方库）
    如 pod <span class="built_in">search</span> AFNetWorking （可以打开另外一屏进行搜索，<span class="keyword">command</span> 加 <span class="keyword">d</span> 是从新打开一屏）。安装完Cocoapods第一次搜索会出现 <span class="keyword">set</span> <span class="keyword">up</span> cocoapods master repo 然后就会花费很长时间，耐心等待吧。以后再pod <span class="built_in">search</span> XXX 就会很快了，不会再有<span class="keyword">set</span> <span class="keyword">up</span> cocoapods master repo，因为安装完Cocoapods第一次搜索会进行一系列的安装设置。

见下图
</code></pre><p><img src="http://ww4.sinaimg.cn/mw690/cafae1a2jw1f7sz5d5iaej20oc10qgxh.jpg" alt="search第三方，以及成功的标志"></p>
<pre><code>搜索完毕后再执行以下步骤。

编辑 vi  Podfile（此Podfile 是你要导入第三方库的项目里面的Podfile，因为是你的项目需要安装第三方库） ，按 <span class="tag">i</span> 进入编辑模式  

见下图
</code></pre><p><img src="http://ww2.sinaimg.cn/mw690/cafae1a2jw1f7sz57vmffj20i60l0dip.jpg" alt="编辑Podfile文件"></p>
<pre><code>pod search <span class="constant">AFNetWorking完</span>后，找到第三方库<span class="constant">AFNetWorking里</span>面的这句话 pod <span class="string">'AFNetWorking'</span>, <span class="string">'~&gt; 3.1.0'</span> 粘贴进去，不要粘贴教程里面的这句话。(<span class="number">3.1</span>.<span class="number">0</span>是<span class="constant">AFNetWorking的</span>版本号，随着<span class="constant">AFNetWorking第</span>三方库的更新，版本号不一定是<span class="number">3.1</span>.<span class="number">0</span>)

按<span class="constant">ESC进</span>入正常模式后。输入 <span class="symbol">:wq</span>保存退出 .如果不小心破坏了<span class="constant">Podfile文</span>件，那么 <span class="symbol">:q</span>！退出。然后再重新进来。这两个命令要在英文输入状态下输入

见下图
</code></pre><p><img src="http://ww4.sinaimg.cn/mw690/cafae1a2jw1f7sz56px4uj20iu0pkq4p.jpg" alt="保存podifle文件的内容"></p>
<pre><code>最后 pod <span class="keyword">install</span> 安装就好了。（也是在你的项目里面执行这一步，根据Podfile里面加入的第三方库，安装对应的第三方库）

安装后ls 以下，目录下面出现后缀是 .xcworkspace，以及pods目录，就标明安装成功了。
</code></pre><p><img src="http://ww4.sinaimg.cn/mw690/cafae1a2jw1f7sz55fwpvj20ty0r0tiw.jpg" alt="保存完podifle候安装，安装成功标志"></p>
<p>注意：</p>
<pre><code>因第一次安装完cocoapods，进行pod <span class="keyword">search</span> XXX 比较慢，所以在安装配置好cocopods之后，把别的电脑上家目录下的.cocoaPods目录拷贝到你自己电脑上这样会很快。

如果拷贝完进行pod <span class="keyword">search</span> 出现以下错误，那么进行<span class="keyword">rm</span> ~/Library/Caches/CocoaPods/search_index.json
</code></pre><p><img src="http://ww1.sinaimg.cn/mw690/cafae1a2jw1f987ehj2y6j20uy09gwgz.jpg" alt="pod search失败"></p>
<pre><code>使用Cocoapods的项目，打开项目的时候，打开后缀为<span class="class">.xcworkspace</span> 的文件。

如果以后这些第三方库更新了，那么执行pod update  你项目里面的第三方库就会同步更新。
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/20/编码规范/" itemprop="url">
                  编码规范
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-20T15:40:54+08:00" content="2015-10-20">
              2015-10-20
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="一、文档结构管理">一、文档结构管理</h3><p>1.建立Libraries文件夹，所有第三方库放入其中。</p>
<p>2.建立Utilities文件夹，自已封装的类放入其中。</p>
<p>3.建立Constants.h头文件，所有的常量定义于其中。Constants.h文件放入Main文件组里面。</p>
<p>4.每个功能块放入一个Group，在目录里建立实际文件夹管理。</p>
<p>5.程序资源文件放入Supporting Files文件夹中。如.plist、数据库资料等。</p>
<p>6.在Supporting Files文件夹下建立Images、Musics和Videos等相关文件夹。图片、音频、视频等资源分别放入其中。图片资源以程序逻辑框架建立相应实体文件夹管理，若多个功能块共用的，建立Common文件夹，放入其中。<code>由于苹果公司Images.xcassets的推出，图片资源以后用Images.xcassets来管理。</code></p>
<h3 id="二、编码规范">二、编码规范</h3><p>说明：为了不影响阅读，一个类的代码行数尽量不要超过300行;一个方法尽量不要超过30行。有超过的在重构的时候想办法分解。</p>
<p>1.每个.h文件最开始处用简短文字说明一下该类的功能逻辑。<br>2.引入其它类时，若要作为实例变量的在.h中引入。否则在.m中引入。</p>
<p>3.@interface与@implementation与#import 之间空一行。@synthesize紧接着@implementation写。</p>
<p>4.a: 声明实例变量一律以属性声明。</p>
<p>b: 其它类要访问的实例变量和方法在.h文件中声明，否则声明于.m文件中。</p>
<p>c: 实例变量及方法以功能块放在一起，实现一个功能的连续着放在一起，另一个功能的空一行开始声明。</p>
<p>d:实例变量紧接@interface后开始，方法在实例变量后空一行开始。</p>
<p>e:每个功能块可作简单说明，单个实例变量方法可不作说明，关键的或特殊的变量或方法单独作说明。注释放于变量声明上一行。</p>
<p>5.类中第个功能模块以 #pragma mark -  分隔，上空两行，下空一行。</p>
<p>6.NSLog在测试完成后一律删除。（换成自定义log）</p>
<p>7.对于系统的常用类作实例变量声明时加入后缀：</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">UIViewController</span><span class="symbol">:VC</span>            <span class="constant">UIImage</span><span class="symbol">:Img</span>    </span><br><span class="line"><span class="constant">UIImageView</span><span class="symbol">:ImgView</span>            <span class="constant">UIView</span><span class="symbol">:View</span>　　<span class="constant">UILabel</span><span class="symbol">:Lbl</span></span><br><span class="line"><span class="constant">UIButton</span><span class="symbol">:Btn</span>　　                <span class="constant">UINavigationBar</span><span class="symbol">:NBar</span></span><br><span class="line"><span class="constant">UIToolBar</span><span class="symbol">:TBar</span>　　              <span class="constant">UISearchBar</span><span class="symbol">:SBar</span></span><br><span class="line"><span class="constant">UITextField</span><span class="symbol">:TextField</span>　　       <span class="constant">UITextView</span><span class="symbol">:TextView</span></span><br><span class="line"><span class="constant">NSArray</span><span class="symbol">:Array</span>　　               <span class="constant">NSMutableArray</span><span class="symbol">:MArray</span></span><br><span class="line"><span class="constant">NSDictionary</span><span class="symbol">:Dict</span>　　			 <span class="constant">NSMutableDictionary</span><span class="symbol">:MDict</span></span><br><span class="line"><span class="constant">NSString</span><span class="symbol">:Str</span>　　       			<span class="constant">NSMutableString</span><span class="symbol">:MStr</span></span><br><span class="line"><span class="constant">NSSet</span><span class="symbol">:Set</span>　　　　　            <span class="constant">NSMutableSet</span><span class="symbol">:MSet</span></span><br></pre></td></tr></table></figure>
<p>8.程序中变量、方法命名尽量能以字面意思表示功能，对于需要用注释来解释的部分代码，注释以如下格式表述：</p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">*</span><span class="keyword">*</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">*</span> 方法或变量说明</span><br><span class="line"></span><br><span class="line"> <span class="keyword">*</span> <span class="comment">@param 参数1说明(针对方法)</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">*</span> <span class="comment">@param 参数2说明(针对方法)</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">*</span> <span class="comment">@return 若方法有返回值则对返回值作说明</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">*</span>/</span><br></pre></td></tr></table></figure>
<h3 id="三、Xcode配置">三、Xcode配置</h3><p>1.全部统一用ARC。</p>
<p>2.用git管理代码。</p>
<p>3.在项目.pch文件加入一段去除release状态的NSLog代码:  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">ifndef</span> __OPTIMIZE__</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> NSLog(...) NSLog(__VA_ARGS__)</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">else</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> NSLog(...) &#123;&#125;</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/10/11/常用正则表达式/" itemprop="url">
                  常用的正则表达式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-11T09:20:14+08:00" content="2015-10-11">
              2015-10-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="常用正则表达式">常用正则表达式</h4><p> NSString <em>urlStr = @”jwfwfwfwf@163.com”;<br>        NSError </em>error;<br>        NSRegularExpression <em>reg = [NSRegularExpression regularExpressionWithPattern:@”jwfwfwfwf@163.com” options:0 error:&amp;error];<br>        NSTextCheckingResult </em>firstMatch = [reg firstMatchInString:urlStr options:0 range:NSMakeRange(0, [urlStr length])];<br>        NSRange resultRange = [firstMatch rangeAtIndex:0];<br>        NSString *result = [urlStr substringWithRange:resultRange];<br>        NSLog(@”%@”, result);</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">匹配中文字符的正则表达式： <span class="special">[</span><span class="command">\u</span>4e00-<span class="command">\u</span>9fa5<span class="special">]</span></span><br><span class="line">评注：匹配中文还真是个头疼的事，有了这个表达式就好办了</span><br><span class="line"></span><br><span class="line">匹配双字节字符(包括汉字在内)：<span class="special">[</span>^<span class="command">\x</span>00-<span class="command">\xff</span><span class="special">]</span></span><br><span class="line">评注：可以用来计算字符串的长度（一个双字节字符长度计2，ASCII字符计1）</span><br><span class="line"></span><br><span class="line">匹配空白行的正则表达式：<span class="command">\n</span><span class="command">\s*</span><span class="command">\r</span></span><br><span class="line">评注：可以用来删除空白行</span><br><span class="line"></span><br><span class="line">匹配HTML标记的正则表达式：&lt;(<span class="command">\S*</span>?)<span class="special">[</span>^&gt;<span class="special">]</span>*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt;</span><br><span class="line">评注：网上流传的版本太糟糕，上面这个也仅仅能匹配部分，对于复杂的嵌套标记依旧无能为力</span><br><span class="line"></span><br><span class="line">匹配首尾空白字符的正则表达式：^<span class="command">\s*</span>|<span class="command">\s*</span><span class="formula">$</span><br><span class="line">评注：可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式</span><br><span class="line"></span><br><span class="line">匹配Email地址的正则表达式：<span class="command">\w</span>+(<span class="special">[</span>-+.<span class="special">]</span><span class="command">\w</span>+)*@<span class="command">\w</span>+(<span class="special">[</span>-.<span class="special">]</span><span class="command">\w</span>+)*<span class="command">\.</span><span class="command">\w</span>+(<span class="special">[</span>-.<span class="special">]</span><span class="command">\w</span>+)*</span><br><span class="line">评注：表单验证时很实用</span><br><span class="line"></span><br><span class="line">匹配网址URL的正则表达式：<span class="special">[</span>a-zA-z<span class="special">]</span>+://<span class="special">[</span>^<span class="command">\s</span><span class="special">]</span>*</span><br><span class="line">评注：网上流传的版本功能很有限，上面这个基本可以满足需求</span><br><span class="line"></span><br><span class="line">匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^<span class="special">[</span>a-zA-Z<span class="special">]</span><span class="special">[</span>a-zA-Z0-9_<span class="special">]</span><span class="special">&#123;</span>4,15<span class="special">&#125;</span>$</span></span><br><span class="line">评注：表单验证时很实用</span><br><span class="line"></span><br><span class="line">匹配国内电话号码：<span class="command">\d</span><span class="special">&#123;</span>3<span class="special">&#125;</span>-<span class="command">\d</span><span class="special">&#123;</span>8<span class="special">&#125;</span>|<span class="command">\d</span><span class="special">&#123;</span>4<span class="special">&#125;</span>-<span class="command">\d</span><span class="special">&#123;</span>7<span class="special">&#125;</span></span><br><span class="line">评注：匹配形式如 0511-4405222 或 021-87888822</span><br><span class="line"></span><br><span class="line">匹配腾讯QQ号：<span class="special">[</span>1-9<span class="special">]</span><span class="special">[</span>0-9<span class="special">]</span><span class="special">&#123;</span>4,<span class="special">&#125;</span></span><br><span class="line">评注：腾讯QQ号从10000开始</span><br><span class="line"></span><br><span class="line">匹配中国邮政编码：<span class="special">[</span>1-9<span class="special">]</span><span class="command">\d</span><span class="special">&#123;</span>5<span class="special">&#125;</span>(?!<span class="command">\d</span>)</span><br><span class="line">评注：中国邮政编码为6位数字</span><br><span class="line"></span><br><span class="line">匹配身份证：<span class="command">\d</span><span class="special">&#123;</span>15<span class="special">&#125;</span>|<span class="command">\d</span><span class="special">&#123;</span>18<span class="special">&#125;</span></span><br><span class="line">评注：中国的身份证为15位或18位</span><br><span class="line"></span><br><span class="line">匹配ip地址：<span class="command">\d</span>+<span class="command">\.</span><span class="command">\d</span>+<span class="command">\.</span><span class="command">\d</span>+<span class="command">\.</span><span class="command">\d</span>+</span><br><span class="line">评注：提取ip地址时有用</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/05/11/日期与时间常用方法副本/" itemprop="url">
                  日期与时间常用方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-05-11T20:57:25+08:00" content="2015-05-11">
              2015-05-11
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="日期与时间">日期与时间</h2><pre><code> <span class="number">1.</span><span class="built_in">NSDate</span> *date = [<span class="built_in">NSDate</span> date];<span class="comment">//当前日期</span>
 <span class="number">2.</span><span class="built_in">NSDate</span> *date1 = [<span class="built_in">NSDate</span> distantFuture];<span class="comment">//未来随机日前</span>
 <span class="number">3.</span><span class="built_in">NSDate</span> *date2 = [<span class="built_in">NSDate</span> distantPast];<span class="comment">//过去随机日期</span>
 <span class="number">4.</span><span class="built_in">NSTimeInterval</span> time = [date2 timeIntervalSinceDate:date1];<span class="comment">//日期差，单位s</span>
 <span class="number">5.</span><span class="built_in">NSDate</span> *date3 = [<span class="built_in">NSDate</span> dateWithTimeIntervalSinceNow:<span class="number">200</span>];<span class="comment">//当前日期加200秒</span>
 <span class="number">6.</span><span class="built_in">NSDate</span> *date4 = [date earlierDate:date3];<span class="comment">//返回较早日期</span>
<span class="comment">//日期格式化</span>
 <span class="number">7.</span><span class="built_in">NSDateFormatter</span> *formatter = [[<span class="built_in">NSDateFormatter</span> alloc]init];
formatter<span class="variable">.dateFormat</span> = <span class="string">@"yy-MM-dd HH:mm:ss"</span>;
<span class="built_in">NSString</span> *dateString = [formatter stringFromDate:date4];
<span class="number">8.</span><span class="comment">//字符串转化为日期</span>
<span class="built_in">NSDate</span> *date5 = [formatter dateFromString:<span class="string">@"14-12-12 03:56:34"</span>];
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/05/04/字符串副本/" itemprop="url">
                  字符数组
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-05-04T15:40:54+08:00" content="2015-05-04">
              2015-05-04
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Foundition框架1">Foundition框架1</h2><pre><code><span class="number">1</span>. <span class="constant">OC</span>集合只能存储<span class="constant">OC</span>对象，不能存储c语言中的基本数据类型，如int，float，<span class="class"><span class="keyword">enum</span>，<span class="title">struct</span>，且不能在集合中存储<span class="title">nil</span>。</span>
</code></pre><h4 id="字符串">字符串</h4><ol>
<li>不可变字符串 ： NSString *string1;</li>
<li><p>可变字符串 ：  <code>NSMutableString</code> *string2;</p>
<p> 对可变字符串的操作：</p>
<p> 2.1 增加元素 </p>
<p> <code>string2 appendFormat:@&quot;hello&quot;];</code></p>
<p> 2.2 删除元素</p>
<p> <code>[string2 replaceCharacterInRange:NAMakeRange(2,3)];</code></p>
<p> 2.3 修改元素（替换）  </p>
<p> <code>[string2 replaceCharacterInRange:NAMakeRange(2,3)withString:@&quot;word&quot;];</code></p>
</li>
<li><p>字符串的操作</p>
<p> 3.1 比较</p>
<p> //判断两个字符串是否相等，返回的是BOOL值</p>
<p> <code>[str1 isEqualTo:str2];</code></p>
<p> <code>NSCompareResult res  = [str1 copmare:str2];</code></p>
<p> 不区分大小写的比较：<code>caseInsensitiveCompare</code></p>
<p> 有选择参数的比较： <code>［str compare：str2 option：NSStringCompareOption］</code></p>
<p> NSStringCompareOption选项可以传入的参数</p>
<pre><code><span class="keyword">enum</span> {
           <span class="built_in">NSCaseInsensitiveSearch</span> = <span class="number">1</span>,   不区分大小写
           <span class="built_in">NSLiteralSearch</span> = <span class="number">2</span>,           对于相等的字符串逐个比较
           <span class="built_in">NSBackwardsSearch</span> = <span class="number">4</span>,         从后向前比较
          <span class="built_in">NSAnchoredSearch</span> = <span class="number">8</span>,          限制比较从开始还是结尾
           <span class="built_in">NSNumericSearch</span> = <span class="number">64</span>,          对于数字按数字比较
          <span class="built_in">NSDiacriticInsensitiveSearch</span> = <span class="number">128</span>,     不区分音节
           <span class="built_in">NSWidthInsensitiveSearch</span> = <span class="number">256</span>,         忽略full－width half－width （如 Unicode code point U+FF41 和 Unicode code point U+<span class="number">0061</span> 的字母 “a”is equal）
           <span class="built_in">NSForcedOrderingSearch</span> = <span class="number">512</span>,           对于不区分大小写比较相等的字符串，强制返回<span class="built_in">NSOderedAscending</span> or <span class="built_in">NSOrderedDeascending</span> （如“aa” is grater than “AA”）
           <span class="built_in">NSRegularExpressionSearch</span> = <span class="number">1024</span>        treated as an ICU－compatible regular expression
    };
</code></pre><p> NSCompareResult 有三种值：</p>
<pre><code><span class="label">NSOrderedSame</span>  两字符串相等
<span class="label">NSOrderedAscending</span>  <span class="keyword">str1 </span>&lt; <span class="keyword">str2
</span><span class="label">NSOrderedDeascending</span>  <span class="keyword">str1 </span>&gt; <span class="keyword">str2;</span>
</code></pre><p> 3.2 求长度</p>
<p> <code>NSUInteger strlen = [str1 length];</code></p>
<p> 3.3 大小写转换</p>
<p> <code>str2 = [str1 uupercaseString];</code></p>
<p> <code>str2 = [str1 lowercaseString];</code></p>
<p> 3.4 获取文件前缀、后缀</p>
<p> <code>str2 ＝[str1 hasPrefix:@&quot;word&quot;];</code></p>
<p> <code>str2 = [str1 hasSuffix:@&quot;txt&quot;];</code></p>
<p> 3.5 获取子串</p>
<p> //获取str2在str1中的位置，即range.location and range.length</p>
<p> <code>range = [str1 rangOfString:str3];</code></p>
<p> <code>range = [str1 rangOfString:@&quot;hello&quot;];</code></p>
<p> //获取str1 第6个位置之后的字符串赋值给str2</p>
<p> <code>str2 = [str1 substringFromIndex:6];</code></p>
<p> //获取str1 从开始到第6个位置之间的字符串赋值给str2</p>
<p> <code>str2 = [str1 substringTOIndex:6];</code></p>
<p> //获取str1 从第6个位置开始长度为5的字符串赋值给str2</p>
<p> <code>str2 = [str1 substringWithRange:NSMakeRange（6，7）];</code></p>
<p> 3.6 文件路径的转换</p>
<p> //间文件路径字符串str1 ＝ @“~/test.html”的路径转换为绝对路径赋值给str2</p>
<p> <code>str2 = [str1 stringByExpandingTildeInPath];</code></p>
<p> //间文件路径字符串str1 ＝ @“/users/qingyun/test.html”的路径转换为相对路径赋值给str2</p>
<p> <code>str2 = [str1 stringByAbbreviatingWithTildeInPath];</code></p>
<p> 3.7 文件路径的扩展名</p>
<p> <code>str2 = [str1 pathExtension];</code>   此时 str2 ＝ @“html”；</p>
<p> 3.7 删除文件路径的后缀</p>
<p> <code>str2 = [str1 stringByDeletePathExtension];</code>   此时 str2 ＝ @“~/test”；</p>
<p> 3.9 追加字符串</p>
<p> str1 ＝ @”hello word”;</p>
<p> <code>str2 = [str1 stringByAppendingFormat:@&quot;wellcom&quot;];</code>   此时 str2 ＝ @“hello word wellcom”;</p>
</li>
</ol>
<h4 id="数组">数组</h4><ol>
<li>不可变数组 ： NSArray  *array1;</li>
<li><p>可变数组 ： <code>NSMutableArray</code>  *array2;</p>
<p> 数组初始化：</p>
<p> <code>NSArray *array1 = [NSArray arrayWithObjects:@&quot;hello&quot;,@&quot;word&quot;,@&quot;two&quot;,nil];</code></p>
<p> <code>NSArray *array1 = @[@12,@34,@&quot;hello&quot;,@&quot;error&quot;];</code></p>
<p> //创建空数组</p>
<p> <code>NSMutableArray  *array2 = [NSMutableArray array];</code></p>
<p> //用已有的数组创建新数组</p>
<p> <code>NSMutableArray  *array2 = [NSMutableArray arrayWithArray:array];</code></p>
<p> //创建一个数组，并预分配内存</p>
<p> <code>NSMutableArray  *array2 = [NSMutableArray arrayWithCapacity:40];</code></p>
<p> 对可变数组的操作：</p>
<p> 2.1 增加元素 </p>
<p> <code>[array2 addObjects:@&quot;hello&quot;];</code></p>
<p> 2.2 删除元素</p>
<p> //删除下标为2的对象</p>
<p> <code>[array2 removeObjectsAtIndex:2];</code></p>
<p> //删除一定范围内的所有@“hello”</p>
<p> <code>[array2 removeObject:@&quot;hello&quot; inRange:NSMakeRange(2, 3)];</code></p>
<p> <code>[array3 removeObjectIdenticalTo:@&quot;is&quot; inRange:NSMakeRange(1, 5)];</code></p>
<p> //删除该数组内的所有@“hello”</p>
<p> <code>[array2 removeObjectIdenticalTo:@&quot;hello&quot;];</code></p>
<p> 2.3 修改元素（替换）</p>
<p> <code>[array2 removeObjectsAtIndex:2 withObject:@&quot;dog&quot;];</code></p>
<p> <code>[array2 removeObjectsAtIndex:2 withObject:str];</code></p>
<p> <code>[array2 removeObjectsInRange:NSMakeRang(0,2) withObjectFromArray:array];</code></p>
<p> 2.4 插入元素</p>
<p> <code>[array2 insertObjects:str1 AtIndex:2];</code></p>
<p> 2.5 访问数组某个对象</p>
<p> <code>array2［下标］</code></p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/05/04/字典副本/" itemprop="url">
                  字典
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-05-04T13:40:54+08:00" content="2015-05-04">
              2015-05-04
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Foundition框架">Foundition框架</h2><h4 id="字典">字典</h4><ol>
<li>不可变数组 ： NSDictionary  *dictionary1;</li>
<li><p>可变数组 ： <code>NSMutableDictionary</code>  *dictionary2;</p>
<p> 字典初始化：</p>
<p> <code>Dictionary *dictionary1 = [NSDictionary dictionaryWithObjectsAndKeys:str1,@&quot;hello&quot;,str2,@&quot;word&quot;,str3,@&quot;two&quot;,nil];</code></p>
<p> <code>Dictionary *dictionary1 = @{@&quot;num1&quot;:@12,@&quot;num2&quot;:@34,@&quot;str1&quot;:@&quot;hello&quot;,@&quot;str2&quot;:@&quot;error&quot;};</code></p>
<p> //创建空字典</p>
<p> <code>NSMutableDictionary  *dictionary2 = [NSMutableDictionary dictionary];</code></p>
<p> //用已有的字典创建新字典</p>
<p> <code>NSMutableDictionary  *dictionary2 = [NSMutableDictionary dictionaryWithDictionary:array];</code></p>
<p> //创建一个字典，并预分配内存</p>
<p> <code>NSMutableDictionary  *dictionary2 = [NSMutableDictionary dictionaryWithCapacity:40];</code></p>
<p> 对可变字典的操作：</p>
<p> 2.1 增加元素 </p>
<p> <code>[dictionary2 addObjects:(id)forKey:@&quot;key&quot;];</code></p>
<p> 2.2 删除元素</p>
<p> <code>[dictionary2 removeObjectForKey:@&quot;key&quot;];</code></p>
<p> 2.3 修改元素（替换）</p>
<p> <code>[dictionary2 setObject:（id）forKey:@&quot;key&quot;];</code></p>
<p> 2.4 访问字典</p>
<p> <code>dictionary2［@“key”］;</code></p>
<p> <code>[dictionary2 objectForKey:@&quot;key&quot;]</code></p>
</li>
</ol>
<h4 id="装箱－开箱">装箱－开箱</h4><ol>
<li><p>对基本数据类型的装箱－NSNumber</p>
<p> //装箱方法1</p>
<p> <code>NSNumber *number = [NSNumber numberWithChar:&#39;X&#39;];</code></p>
<p> <code>NSNumber *number = [NSNumber numberWithINT:23];</code></p>
<p> <code>NSNumber *number = [NSNumber numberWithBOOL:YES];</code></p>
<p> <code>NSNumber *number = [NSNumber numberWithDouble:34.5];</code></p>
<p> //装箱方法2</p>
<p> @23，@34.5</p>
<p> //开箱</p>
<p> <code>[number charValue];</code></p>
<p> <code>[number intValue];</code></p>
<p> <code>[number BOOLValue];</code></p>
<p> <code>[number DoubleValue];</code>    </p>
</li>
<li><p>对所有非对象类型的装箱（包括基本数据类型）－ NSValue</p>
<p> //对NSRect，NSPoint，NSRange装箱,也可以对基本数据类型进行装箱</p>
<p> NSRect rect = NSMakeRect(10,20,30,40);</p>
<p> <code>NSValue *value = [NSvalue valueWithBytes:&amp;rect objCType:@encode(NSRect)];</code></p>
<p> int a ＝ 5；</p>
<p> <code>NSValue *value = [NSvalue valueWithBytes:&amp;a objCType:@encode(int)];</code></p>
<p> //开箱</p>
<p> NSRect rect2 ＝ ｛0｝；</p>
<p> <code>［value getValue:&amp;rect］;</code></p>
<p> int b = 0;</p>
<p> <code>[value getValue:&amp;b];</code></p>
<p> //仅对NSRect，NSPoint，NSRange装箱</p>
<p> <code>NSValue *value = [NSValue valueWithRect];</code></p>
<p> <code>NSValue *value = [NSValue valueWithRange];</code></p>
<p> <code>NSValue *value = [NSValue valueWithPoint];</code></p>
<p> //开箱</p>
<p> NSRect rect2 ＝ ｛0｝；</p>
<p> <code>[value rectValue];</code></p>
<p> NSRange range = {0};</p>
<p> <code>[value rangeValue];</code></p>
<p> NSPoint point = {0};</p>
<p> <code>[value pointValue];</code></p>
</li>
</ol>
<h4 id="枚举">枚举</h4><pre><code><span class="comment">//normal enumerator</span>

<span class="built_in">NSEnumerator</span> *enumer = [array objectEnumerator];

<span class="keyword">id</span> obj;
<span class="keyword">while</span> (obj = [enumer nextObject]) {
    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,obj);
}

<span class="built_in">NSEnumerator</span> *enumer2 = [array reverseObjectEnumerator];
<span class="keyword">while</span> (obj = [enumer2 nextObject]) {
    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,obj);
}

<span class="comment">//fast enumerator</span>

<span class="keyword">for</span> (<span class="keyword">id</span> obj2 <span class="keyword">in</span> array) {
    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,obj2);
}
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/05/04/类别副本/" itemprop="url">
                  类别
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-05-04T13:36:53+08:00" content="2015-05-04">
              2015-05-04
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="类别">类别</h2><ol>
<li><p>类别的简述</p>
<ul>
<li>为现有的类（自定义的类、第三方的类或者是系统定义的类）添加一些新的行为；</li>
<li>类别可以解决继承不能为累簇添加新方法的问题。</li>
</ul>
</li>
<li><p>类别的声明和实现</p>
<p> 格式： <code>类名 ＋ 类别名</code></p>
<p> 如：为NSString 创建一个类别 <code>NSString＋NumberConvenience</code>；</p>
<p> 只要保证类别名称唯一，可以向一个类中添加任意数量的类别。</p>
<p> 声明：</p>
<p> @interface NSString （NumberConvenience）</p>
<p> － （NSNumber *）lengthAsNumber;</p>
<p> @end</p>
<p> 实现：</p>
<p> @implementation NSString （NumberConvenience）</p>
<p> － （NSNumber *）lengthAsNumber<br> {</p>
<p> }</p>
<p> @end</p>
</li>
<li><p>类别的优缺点</p>
<p> 缺点：</p>
<pre><code><span class="bullet">* </span>只能添加方法，只可以访问原始类的实例变量，无法向类别中添加新的实例变量
<span class="bullet">* </span>名称冲突。类别具有最高优先级，即当类别中定义与对应类中已有的方法同名的方法，对象调用该方法时，会优先调用类别中定义的方法。
<span class="bullet">* </span>多个Category中如果实现了相同的方法，只有最后一个参与编译的才会有效   
</code></pre><p> 优点：</p>
<pre><code><span class="bullet">* </span>将类的实现代码分散到多个不同文件或框架中。
<span class="bullet">* </span>可以创建对类中私有方法的前向引用，
<span class="bullet">* </span>向对象添加非正式协议。
</code></pre></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/04/30/协议副本/" itemprop="url">
                  协议
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-30T21:27:37+08:00" content="2015-04-30">
              2015-04-30
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="协议">协议</h2><ol>
<li><p>基本用途</p>
<ul>
<li>可以用来声明一大堆方法（不能声明成员变量）</li>
<li>只要某个类遵守了这个协议，就相当于拥有这个协议中的所有方法声明</li>
<li>只要父类遵守了某个协议，就相当于子类也遵守了    </li>
</ul>
</li>
<li><p>格式<br> @protocol 协议名</p>
<p> 方法声明列表</p>
<p> @end</p>
<p> 某个类遵守某个协议</p>
<p> @interface 类名 : 父类名&lt;协议名&gt;</p>
<p> @end</p>
</li>
<li><p>关键字</p>
<p> 协议中有2个关键字可以控制方法是否要实现（默认是@required），在大多数情况下，用途在于程序员之间的交流</p>
<ul>
<li>@required: 该关键字以下且@optional关键字以上的方法必须要实现（若不实现，编译器会发出警告</li>
<li>@optional: 该关键字以下且@required关键字以上的方法可以选择性的实现</li>
</ul>
</li>
<li><p>协议遵守协议</p>
<ul>
<li><p>一个协议可以遵守其他多个协议，多个协议之间用逗号 , 隔开</p>
<ul>
<li>一个协议遵守了其他协议，就相当于拥有了其他协议中的方法声明</li>
</ul>
<p>@protocol 协议名称 &lt;协议1, 协议2&gt;</p>
<p>@end</p>
</li>
</ul>
</li>
<li><p>基协议</p>
<ul>
<li>NSObject是一个基类，最根本最基本的类，任何其他类最终都要继承它</li>
<li>其实还有一个协议，名字也叫NSObject，它是一个基协议，最根本最基本的协议</li>
<li>NSObject协议中声明很多最基本的方法，比如description、retain、release等</li>
<li>建议每个新的协议都要遵守NSObject协议</li>
</ul>
</li>
<li><p>定义变量时指定协议</p>
<p> // NSObject类型的对象，并且要遵守NSCopying协议</p>
<ul>
<li><p>NSObject<nscopying> *obj;</nscopying></p>
<p>// 任何OC对象，并且要遵守NSCoding协议</p>
</li>
<li><p>id<nscoding> obj2;</nscoding></p>
</li>
</ul>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/04/30/内存管理副本/" itemprop="url">
                  内存管理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-04-30T21:25:44+08:00" content="2015-04-30">
              2015-04-30
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="内存管理">内存管理</h2><p><strong>内存管理机制：引用计数</strong></p>
<ol>
<li><p>引用计数的计算</p>
<ul>
<li>alloc 、new 、copy(copy生成接收对象的一个副本) //使用这三个方法创建对象时，对象的引用计数器为1<ul>
<li><ul>
<li>(id) retain; //给对象发送retain消息后，对象的引用计数器加1</li>
</ul>
</li>
<li><ul>
<li>(void) release; //给对像发送release消息后，对象的引用计数器减1</li>
</ul>
</li>
<li>-(void)dealloc; //当一个对象的引用计数器变为0而即将被销毁时,Objective-C自动向对                             象发送一条dealloc消息，我们通常都会在自己的对象中重写dealloc方法</li>
<li><ul>
<li>(unsigned) retainCount;//获取当前对象的引用计数器的值</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>非ARC环境下内存的管理</p>
<p> 当某个对象被持有有，［对象名 retain］；<br> 当某个对象不再被持有时，［对象名 release］；</p>
</li>
<li><p>ARC环境下内存的管理</p>
<ul>
<li><p>规则</p>
<p>  只要还有一个强指针变量指向对象，对象就会保持在内存中</p>
</li>
<li><p>强引用，弱引用</p>
<p>  ➢    默认所有实例变量和局部变量都是Strong指针</p>
<p>  ➢    弱指针指向的对象被回收后，弱指针会自动变为nil指针，不会引发野指针错误。其修饰符号为__weak;</p>
</li>
<li><p>注意点</p>
<pre><code>➢    不能调用<span class="operator"><span class="keyword">release</span>、retain、autorelease、retainCount</span>
</code></pre><p> ➢    可以重写dealloc，但是不能调用[super dealloc]</p>
<p> ➢    @property : 想长期拥有某个对象，应该用strong，其他对象用weak</p>
<p> ➢    其他基本数据类型依然用assign</p>
<p> ➢    两端互相引用时，一端用strong、一端用weak</p>
<ol>
<li>自动释放池</li>
</ol>
</li>
<li>自动释放池是一个存放实体的集合，这些实体可能是对象，这些对象能够被自动释放。</li>
<li><p>/ - (id) autorelease; //是NSObject类提供的方法，此方法在某一个预定的时候，向对象发送release消息，返回值是接收消息的对象。实际上当给一个对象发送autorelease消息的时候，就是将这个对象添加到的自动释放池(NSAutoreleasePool)中，当自动释放池销毁时，会向该池中的所有对象发送release消息。</p>
<p>如： - (NSString <em>) description<br>{<br>  NSString </em>desc;<br>   desc = [[NSString alloc] initWithFormat: @” I am %d years old”,29];<br>   return ([desc autorelease]);<br>}</p>
</li>
</ul>
</li>
<li><p>内存管理规则</p>
<ul>
<li>如果我使用了new , alloc 或者copy方法获得一个对象，则我必须释放或自释放该对象。</li>
<li>如果你对对象调用了retain消息，那么你必须负责释放(release)这个对象，保证retain和release的使用次数相等。</li>
</ul>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="樱桃爱上阿狸" />
          <p class="site-author-name" itemprop="name">樱桃爱上阿狸</p>
          <p class="site-description motion-element" itemprop="description">期待和我一样爱阿狸的朋友，一样喜欢编程的小伙伴。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">27</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">樱桃爱上阿狸</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
